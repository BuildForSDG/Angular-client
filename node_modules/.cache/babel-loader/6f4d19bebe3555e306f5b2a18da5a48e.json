{"ast":null,"code":"/**\n * Auth Service\n */\nimport axios from 'axios';\nimport { API_URL } from '../config';\nvar AuthService = {\n  login: function login(email, password) {\n    return axios.post(API_URL + '/api/users/login', {\n      email: email,\n      password: password\n    }).then(function (res) {\n      var token = console.log(\"Token: \".concat(res.data.token));\n      localStorage.setItem('jwtToken', token);\n    });\n  },\n  signup: function signup(firstName, lastName, email, password, phone, nationalId) {\n    return axios.post(API_URL + '/api/users/signup', {\n      firstName: firstName,\n      lastName: lastName,\n      email: email,\n      password: password,\n      phone: phone,\n      nationalId: nationalId\n    });\n  },\n  getProfile: function getProfile() {\n    return axios.get(API_URL + '/api/users/:id', {\n      headers: this.authHeader()\n    }).catch(alert('error getting profile'));\n  },\n  logout: function logout() {\n    localStorage.removeItem('token');\n  },\n  getToken: function getToken() {\n    return localStorage.getItem('token');\n  },\n  saveToken: function saveToken(token) {\n    localStorage.setItem('token', token);\n  },\n  authHeader: function authHeader() {\n    return {\n      Authorization: this.getToken()\n    };\n  }\n};\nexport default AuthService;","map":{"version":3,"sources":["/home/realoj/RealProjects/Andela-FB-Innovators/zero-hunger-frontend/src/services/AuthService.js"],"names":["axios","API_URL","AuthService","login","email","password","post","then","res","token","console","log","data","localStorage","setItem","signup","firstName","lastName","phone","nationalId","getProfile","get","headers","authHeader","catch","alert","logout","removeItem","getToken","getItem","saveToken","Authorization"],"mappings":"AAAA;;;AAGA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,WAAxB;AAEA,IAAMC,WAAW,GAAG;AACnBC,EAAAA,KAAK,EAAE,eAAUC,KAAV,EAAiBC,QAAjB,EAA2B;AACjC,WAAOL,KAAK,CACVM,IADK,CACAL,OAAO,GAAG,kBADV,EAC8B;AAAEG,MAAAA,KAAK,EAALA,KAAF;AAASC,MAAAA,QAAQ,EAARA;AAAT,KAD9B,EAELE,IAFK,CAEA,UAACC,GAAD,EAAS;AACd,UAAMC,KAAK,GAAGC,OAAO,CAACC,GAAR,kBAAsBH,GAAG,CAACI,IAAJ,CAASH,KAA/B,EAAd;AACAI,MAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCL,KAAjC;AACA,KALK,CAAP;AAMA,GARkB;AASnBM,EAAAA,MAAM,EAAE,gBAAUC,SAAV,EAAqBC,QAArB,EAA+Bb,KAA/B,EAAsCC,QAAtC,EAAgDa,KAAhD,EAAuDC,UAAvD,EAAmE;AAC1E,WAAOnB,KAAK,CAACM,IAAN,CAAWL,OAAO,GAAG,mBAArB,EAA0C;AAChDe,MAAAA,SAAS,EAATA,SADgD;AAEhDC,MAAAA,QAAQ,EAARA,QAFgD;AAGhDb,MAAAA,KAAK,EAALA,KAHgD;AAIhDC,MAAAA,QAAQ,EAARA,QAJgD;AAKhDa,MAAAA,KAAK,EAALA,KALgD;AAMhDC,MAAAA,UAAU,EAAVA;AANgD,KAA1C,CAAP;AAQA,GAlBkB;AAmBnBC,EAAAA,UAAU,EAAE,sBAAY;AACvB,WAAOpB,KAAK,CACVqB,GADK,CACDpB,OAAO,GAAG,gBADT,EAC2B;AAChCqB,MAAAA,OAAO,EAAE,KAAKC,UAAL;AADuB,KAD3B,EAILC,KAJK,CAICC,KAAK,CAAC,uBAAD,CAJN,CAAP;AAKA,GAzBkB;AA0BnBC,EAAAA,MAAM,EAAE,kBAAY;AACnBb,IAAAA,YAAY,CAACc,UAAb,CAAwB,OAAxB;AACA,GA5BkB;AA6BnBC,EAAAA,QAAQ,EAAE,oBAAY;AACrB,WAAOf,YAAY,CAACgB,OAAb,CAAqB,OAArB,CAAP;AACA,GA/BkB;AAgCnBC,EAAAA,SAAS,EAAE,mBAAUrB,KAAV,EAAiB;AAC3BI,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,KAA9B;AACA,GAlCkB;AAmCnBc,EAAAA,UAAU,EAAE,sBAAY;AACvB,WAAO;AAAEQ,MAAAA,aAAa,EAAE,KAAKH,QAAL;AAAjB,KAAP;AACA;AArCkB,CAApB;AAwCA,eAAe1B,WAAf","sourcesContent":["/**\n * Auth Service\n */\nimport axios from 'axios';\nimport { API_URL } from '../config';\n\nconst AuthService = {\n\tlogin: function (email, password) {\n\t\treturn axios\n\t\t\t.post(API_URL + '/api/users/login', { email, password })\n\t\t\t.then((res) => {\n\t\t\t\tconst token = console.log(`Token: ${res.data.token}`);\n\t\t\t\tlocalStorage.setItem('jwtToken', token);\n\t\t\t});\n\t},\n\tsignup: function (firstName, lastName, email, password, phone, nationalId) {\n\t\treturn axios.post(API_URL + '/api/users/signup', {\n\t\t\tfirstName,\n\t\t\tlastName,\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tphone,\n\t\t\tnationalId,\n\t\t});\n\t},\n\tgetProfile: function () {\n\t\treturn axios\n\t\t\t.get(API_URL + '/api/users/:id', {\n\t\t\t\theaders: this.authHeader(),\n\t\t\t})\n\t\t\t.catch(alert('error getting profile'));\n\t},\n\tlogout: function () {\n\t\tlocalStorage.removeItem('token');\n\t},\n\tgetToken: function () {\n\t\treturn localStorage.getItem('token');\n\t},\n\tsaveToken: function (token) {\n\t\tlocalStorage.setItem('token', token);\n\t},\n\tauthHeader: function () {\n\t\treturn { Authorization: this.getToken() };\n\t},\n};\n\nexport default AuthService;\n"]},"metadata":{},"sourceType":"module"}