{"ast":null,"code":"import AuthService from '../../services/AuthService';\nimport { setCurrentUser } from './actionCreators';\n/**\n * Get user profile based on token\n */\n\nexport function getProfile() {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      var token = AuthService.getToken();\n\n      if (token) {\n        AuthService.getProfile().then(function (resp) {\n          console.log(\"user response \".concat(resp));\n\n          if (resp.data.profile) {\n            dispatch(setCurrentUser(resp.data.profile));\n          }\n\n          resolve();\n        });\n      } else {\n        resolve();\n      }\n    });\n  };\n}","map":{"version":3,"sources":["/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/src/store/actions/user.js"],"names":["AuthService","setCurrentUser","getProfile","dispatch","Promise","resolve","reject","token","getToken","then","resp","console","log","data","profile"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,4BAAxB;AACA,SAASC,cAAT,QAA+B,kBAA/B;AAEA;;;;AAGA,OAAO,SAASC,UAAT,GAAsB;AAC5B,SAAO,UAACC,QAAD,EAAc;AACpB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,UAAMC,KAAK,GAAGP,WAAW,CAACQ,QAAZ,EAAd;;AACA,UAAID,KAAJ,EAAW;AACVP,QAAAA,WAAW,CAACE,UAAZ,GAAyBO,IAAzB,CAA8B,UAACC,IAAD,EAAU;AACvCC,UAAAA,OAAO,CAACC,GAAR,yBAA6BF,IAA7B;;AACA,cAAIA,IAAI,CAACG,IAAL,CAAUC,OAAd,EAAuB;AACtBX,YAAAA,QAAQ,CAACF,cAAc,CAACS,IAAI,CAACG,IAAL,CAAUC,OAAX,CAAf,CAAR;AACA;;AACDT,UAAAA,OAAO;AACP,SAND;AAOA,OARD,MAQO;AACNA,QAAAA,OAAO;AACP;AACD,KAbM,CAAP;AAcA,GAfD;AAgBA","sourcesContent":["import AuthService from '../../services/AuthService';\nimport { setCurrentUser } from './actionCreators';\n\n/**\n * Get user profile based on token\n */\nexport function getProfile() {\n\treturn (dispatch) => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst token = AuthService.getToken();\n\t\t\tif (token) {\n\t\t\t\tAuthService.getProfile().then((resp) => {\n\t\t\t\t\tconsole.log(`user response ${resp}`);\n\t\t\t\t\tif (resp.data.profile) {\n\t\t\t\t\t\tdispatch(setCurrentUser(resp.data.profile));\n\t\t\t\t\t}\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tresolve();\n\t\t\t}\n\t\t});\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}