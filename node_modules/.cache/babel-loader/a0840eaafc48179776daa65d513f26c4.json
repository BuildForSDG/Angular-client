{"ast":null,"code":"import _defineProperty from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/src/pages/Register.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Image, Message, Segment, Loader } from 'semantic-ui-react';\nimport { Link, withRouter, Router } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport validateInput from '../validators/register';\nimport { registerUser } from '../store/actions/auth';\n\nvar RegisterForm = /*#__PURE__*/function (_Component) {\n  _inherits(RegisterForm, _Component);\n\n  function RegisterForm(props) {\n    var _this;\n\n    _classCallCheck(this, RegisterForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegisterForm).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.isValid()) {\n        _this.setState({\n          errors: {},\n          isLoading: true\n        });\n\n        axios.post('http://localhost:5000/api/users/signup', _this.state).then(function (response) {\n          console.log(response);\n          if (response) // alert('signup successful!')\n            _this.props.history.push('/Login');\n        }).catch(function (error) {\n          console.log(error);\n        });\n\n        _this.props.registerUser(_this.state, _this.props.history);\n      }\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.isValid = function () {\n      var _validateInput = validateInput(_this.state),\n          errors = _validateInput.errors,\n          isValid = _validateInput.isValid;\n\n      if (!isValid) {\n        _this.setState({\n          errors: errors\n        });\n      }\n\n      return isValid;\n    };\n\n    _this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      nationalId: '',\n      password: '',\n      confirmPassword: '',\n      errors: {},\n      isLoading: false\n    };\n    return _this;\n  }\n\n  _createClass(RegisterForm, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.errors) {\n        this.setState({\n          errors: nextProps.errors,\n          isLoading: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          firstName = _this$state.firstName,\n          lastName = _this$state.lastName,\n          email = _this$state.email,\n          phone = _this$state.phone,\n          nationalId = _this$state.nationalId,\n          password = _this$state.password,\n          confirmPassword = _this$state.confirmPassword,\n          errors = _this$state.errors,\n          isLoading = _this$state.isLoading;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"register-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '100%'\n        },\n        verticalAlign: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 450\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Image, {\n        src: \"/assets/images/logo.png\",\n        size: \"tiny\",\n        centered: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        as: \"h2\",\n        color: \"teal\",\n        textAlign: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, \"Create Account\"), /*#__PURE__*/React.createElement(Form, {\n        size: \"large\",\n        onSubmit: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Segment, {\n        stacked: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"First Name\",\n        name: \"firstName\",\n        value: firstName,\n        error: errors.firstName ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"Last Name\",\n        name: \"lastName\",\n        value: lastName,\n        error: errors.lastName ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"E-mail\",\n        name: \"email\",\n        value: email,\n        error: errors.email ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"Phone\",\n        name: \"phone\",\n        value: phone,\n        error: errors.phone ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"National ID\",\n        name: \"nationalId\",\n        value: nationalId,\n        error: errors.nationalId ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"Password\",\n        name: \"password\",\n        type: \"password\",\n        value: password,\n        error: errors.password ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        placeholder: \"Confirm Password\",\n        name: \"confirmPassword\",\n        type: \"password\",\n        value: confirmPassword,\n        error: errors.confirmPassword ? true : false,\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        color: \"teal\",\n        fluid: true,\n        size: \"large\",\n        disabled: isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }\n      }, !isLoading ? 'Create Account' : /*#__PURE__*/React.createElement(Loader, {\n        active: true,\n        inverted: true,\n        inline: true,\n        size: \"small\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 27\n        }\n      }), \">\"))), /*#__PURE__*/React.createElement(Message, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }\n      }, \"Already have an account? \", /*#__PURE__*/React.createElement(Link, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 40\n        }\n      }, \"Login\")))));\n    }\n  }]);\n\n  return RegisterForm;\n}(Component);\n\nRegisterForm.propTypes = {\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    errors: state.errors\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, {\n  registerUser: registerUser\n})(RegisterForm));","map":{"version":3,"sources":["/home/realoj/RealProjects/Andela-FB-Innovators/front-endweb/src/pages/Register.js"],"names":["React","Component","Button","Form","Grid","Header","Image","Message","Segment","Loader","Link","withRouter","Router","connect","PropTypes","axios","validateInput","registerUser","RegisterForm","props","onSubmit","e","preventDefault","isValid","setState","errors","isLoading","post","state","then","response","console","log","history","push","catch","error","onChange","target","name","value","firstName","lastName","email","phone","nationalId","password","confirmPassword","nextProps","height","maxWidth","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Form, Grid, Header, Image, Message,\n  Segment, Loader } from 'semantic-ui-react'\nimport { Link, withRouter, Router } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport validateInput from '../validators/register';\nimport { registerUser } from '../store/actions/auth';\n\nclass RegisterForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      phone: '',\n      nationalId: '',\n      password: '',\n      confirmPassword: '',\n      errors: {},\n      isLoading: false\n    };\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    if (this.isValid()) {\n      this.setState({ errors: {}, isLoading: true });\n      axios.post('http://localhost:5000/api/users/signup', this.state)\n      .then(response => {\n        console.log(response)\n        if(response)\n    // alert('signup successful!')\n    this.props.history.push('/Login');\n      })\n      .catch(error => {\n        console.log(error)\n      })\n      this.props.registerUser(this.state, this.props.history);\n    }\n  }\n\n  onChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  isValid = () => {\n    const { errors, isValid } = validateInput(this.state);\n    if (!isValid) {\n      this.setState({ errors });\n    }\n    return isValid;\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors,\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    const { firstName, lastName, email, phone, nationalId, password,\n      confirmPassword, errors, isLoading } = this.state;\n\n    return(\n      <div className=\"register-form\">\n        <Grid textAlign='center' style={{ height: '100%' }} verticalAlign='middle'>\n          <Grid.Column style={{ maxWidth: 450 }}>\n\n            <Link to='/'>\n              <Image src='/assets/images/logo.png' size='tiny' centered />\n            </Link>\n\n            <Header as='h2' color='teal' textAlign='center'>\n              Create Account\n            </Header>\n\n            <Form size='large' onSubmit={this.onSubmit}>\n              <Segment stacked>\n                <Form.Input\n                  fluid\n                  placeholder='First Name'\n                  name='firstName'\n                  value={firstName}\n                  error={errors.firstName ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='Last Name'\n                  name='lastName'\n                  value={lastName}\n                  error={errors.lastName ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='E-mail'\n                  name='email'\n                  value={email}\n                  error={errors.email ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='Phone'\n                  name='phone'\n                  value={phone}\n                  error={errors.phone ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='National ID'\n                  name='nationalId'\n                  value={nationalId}\n                  error={errors.nationalId ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='Password'\n                  name='password'\n                  type='password'\n                  value={password}\n                  error={errors.password ? true : false}\n                  onChange={this.onChange}\n                />\n                <Form.Input\n                  fluid\n                  placeholder='Confirm Password'\n                  name='confirmPassword'\n                  type='password'\n                  value={confirmPassword}\n                  error={errors.confirmPassword ? true : false}\n                  onChange={this.onChange}\n                />\n                    <Button color='teal' fluid size='large' disabled={isLoading}>\n                      {\n                        !isLoading\n                        ? 'Create Account'\n                        : <Loader active inverted inline size='small' />\n                      }>\n                      </Button>\n              </Segment>\n            </Form>\n\n            <Message>\n              Already have an account? <Link to='/login'>Login</Link>\n            </Message>\n\n          </Grid.Column>\n        </Grid>\n      </div>\n    )\n  }\n}\n\nRegisterForm.propTypes = {\n  errors: PropTypes.object.isRequired\n}\n\nconst mapStateToProps = (state) => ({\n  errors: state.errors\n})\n\nexport default withRouter(connect(mapStateToProps, { registerUser })(RegisterForm))\n"]},"metadata":{},"sourceType":"module"}